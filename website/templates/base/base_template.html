<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

   <title>{% block title %}Exam App{% endblock %} | Your Smart Exam Assistant</title>
    <meta name="title" content="{% block meta_title %}Exam App - Your Smart Exam Assistant{% endblock %}">
    <meta name="description" content="{% block meta_description %}Exam Shuffler process with AI-powered analysis and insights{% endblock %}">

    <!--CSS-->
    <link href="/static/css/src/output.css" rel="stylesheet" />
    {% block css %} {% endblock %}
    <!--Scripts -->
    <script src="../../static/js/base.js"></script>
    {% block scripts %} {% endblock %}
</head>
<body class="bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-white">

  <!-- Navbar block with your full navbar -->
  {% block navbar %}
  <header class="sticky top-0 z-50 bg-white dark:bg-gray-800 shadow border-b border-gray-200 dark:border-gray-700" role="banner">
    <div class="container mx-auto flex justify-between items-center px-4 md:px-8 py-3 min-h-[56px]">

      <!-- Logo and Home Link -->
      <a href="/" class="flex items-center gap-2 text-xl font-extrabold text-blue-700 dark:text-green-300 tracking-tight" aria-label="Exam App Home">
        <svg class="w-6 h-6 text-green-400 dark:text-green-300" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 20l9-5-9-5-9 5 9 5z" />
          <path d="M12 12V4m0 0L3 9m9-5l9 5" />
        </svg>
        Exam App
      </a>

      <!-- Navigation Area -->
      <nav class="flex items-center gap-4 px-4 py-2 bg-transparent relative z-40" role="navigation" aria-label="Primary navigation">

        <!-- Dark Mode Toggle -->
        <button
          id="dark-toggle"
          class="p-2 rounded-full bg-blue-100 dark:bg-gray-700 hover:bg-blue-200 dark:hover:bg-gray-600 transition focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500 dark:focus:ring-green-400"
          type="button"
          title="Toggle dark mode"
          aria-label="Toggle dark mode"
          aria-pressed="false"
        >
          <!-- Sun (Light) Icon -->
          <svg id="sun-icon" class="w-5 h-5 text-yellow-400 dark:text-yellow-300 dark:inline hidden transition-opacity duration-300" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="5" />
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
          </svg>

          <!-- Moon (Dark) Icon -->
          <svg id="moon-icon" class="w-5 h-5 text-gray-800 dark:hidden transition-opacity duration-300" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z" />
          </svg>
        </button>
         {% if name %}
        <!-- User Dropdown -->
        <div class="relative">
          <!-- Trigger Button -->
          <button
            id="user-menu-button"
            class="flex items-center gap-1 text-sm font-semibold text-gray-800 dark:text-gray-200 px-2 py-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500 dark:focus:ring-green-400"
            type="button"
            aria-haspopup="true"
            aria-expanded="false"
          >
         
            <span class="sr-only">User menu for {{ name }}</span>
            <span aria-hidden="true">{{ name }}</span>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </button>

          <!-- Dropdown Menu -->
          <div
            id="user-dropdown"
            class="hidden absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-lg py-1 z-50 transition-opacity duration-200 ease-in-out"
            role="menu"
            aria-orientation="vertical"
            aria-labelledby="user-menu-button"
          >
            <form method="get" action="/auth/logout" role="none">
              <button
                type="submit"
                class="block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-700 focus:outline-none"
                role="menuitem"
              >
                Logout
              </button>
            </form>
          </div>
        </div>
         {% endif %}

      </nav>

    </div>
  </header>
  {% endblock navbar %}

  {% block content %}
  {% endblock %}

</body>
</html>
